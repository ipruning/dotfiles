#!/usr/bin/env bash
set -euo pipefail

app="${1:-}"; shift || true

case "$app" in
  atlas)
    open -a "ChatGPT Atlas" --args --new-window
    open -b com.openai.atlas
    ;;
  chrome)
    osascript <<'APPLESCRIPT'
tell application id "com.google.Chrome"
  make new window
  activate
end tell
APPLESCRIPT
    ;;
  cursor)
    osascript <<'APPLESCRIPT'
tell application id "com.todesktop.230313mzl4w4u92" to activate
delay 0.05
tell application "System Events" to tell process "Cursor" ¬
  to click menu item "New Window" of menu 1 of menu bar item "File" of menu bar 1
APPLESCRIPT
    ;;
  ghostty)
    osascript <<'APPLESCRIPT'
tell application id "com.mitchellh.ghostty" to activate
delay 0.05
tell application "System Events" to tell process "Ghostty" to click menu item "New Window" of menu 1 of menu bar item "File" of menu bar 1
APPLESCRIPT
    ;;
  zed)
    osascript <<'APPLESCRIPT'
tell application id "dev.zed.Zed" to activate
delay 0.05
tell application "System Events" to tell process "Zed" ¬
  to click menu item "New Window" of menu 1 of menu bar item "File" of menu bar 1
APPLESCRIPT
    ;;
esac
